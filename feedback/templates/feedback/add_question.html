<!DOCTYPE html>
<html>
<head>
    <title>Add New Question</title>
    <script>
        function toggleOptions() {
            const qType = document.getElementById("q-type").value;
            const optionField = document.getElementById("options-field");
            optionField.style.display = (qType === "mcq") ? "block" : "none";
        }
    </script>
</head>
<body>
    <h1>Add a New Question</h1>

    <form method="POST">
        {% csrf_token %}

        <label><strong>Question Text:</strong></label><br>
        <textarea name="text" rows="2" required></textarea><br><br>

        <label><strong>Category:</strong></label><br>
        <input type="text" name="category" required><br><br>

        <label><strong>Stakeholder Type:</strong></label><br>
        <select name="stakeholder_type" required>
            <option value="student">Student</option>
            <option value="alumni">Alumni</option>
            <option value="employer">Employer</option>
        </select><br><br>

        <label><strong>Question Type:</strong></label><br>
        <select name="question_type" id="q-type" onchange="toggleOptions()" required>
            <option value="rating">Rating (1â€“5)</option>
            <option value="mcq">Multiple Choice</option>
        </select><br><br>

        <!-- Hidden unless MCQ is selected -->
        <div id="options-field" style="display:none;">
            <label><strong>MCQ Options (comma-separated):</strong></label><br>
            <input type="text" name="options" placeholder="e.g. Yes, No, Maybe"><br><br>
        </div>

        <button type="submit">Add Question</button>
    </form>

    <p><a href="{% url 'home' %}">Back to Home</a></p>
</body>
</html>
